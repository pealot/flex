exports.ids=[7],exports.modules={370:function(e,a,t){"use strict";t.r(a),t.d(a,"txState",(function(){return P})),t.d(a,"InboxItem",(function(){return O})),t.d(a,"InboxPageComponent",(function(){return f}));var s=t(8),n=t.n(s),i=(t(6),t(22)),o=t(82),r=t(3),d=t(4),l=t.n(d),c=t(21),b=t(10),m=t(15),N=t(49),g=t(109),x=t(5),_=t(165),j=t(9),u=t(470),p=t.n(u),I=t(0),P=function(e,a,t){var s="order"===t;return Object(c.G)(a)?{nameClassName:s?p.a.nameNotEmphasized:p.a.nameEmphasized,bookingClassName:p.a.bookingActionNeeded,lastTransitionedAtClassName:p.a.lastTransitionedAtEmphasized,stateClassName:p.a.stateActionNeeded,state:e.formatMessage({id:"InboxPage.stateEnquiry"})}:Object(c.K)(a)?s?{nameClassName:p.a.nameNotEmphasized,bookingClassName:p.a.bookingNoActionNeeded,lastTransitionedAtClassName:p.a.lastTransitionedAtEmphasized,stateClassName:p.a.stateActionNeeded,state:e.formatMessage({id:"InboxPage.stateRequested"})}:{nameClassName:p.a.nameEmphasized,bookingClassName:p.a.bookingActionNeeded,lastTransitionedAtClassName:p.a.lastTransitionedAtEmphasized,stateClassName:p.a.stateActionNeeded,state:e.formatMessage({id:"InboxPage.statePending"})}:Object(c.J)(a)?{nameClassName:s?p.a.nameNotEmphasized:p.a.nameEmphasized,bookingClassName:p.a.bookingNoActionNeeded,lastTransitionedAtClassName:p.a.lastTransitionedAtNotEmphasized,stateClassName:s?p.a.stateActionNeeded:p.a.stateNoActionNeeded,state:e.formatMessage({id:"InboxPage.statePendingPayment"})}:Object(c.I)(a)?{nameClassName:p.a.nameNotEmphasized,bookingClassName:p.a.bookingNoActionNeeded,lastTransitionedAtClassName:p.a.lastTransitionedAtNotEmphasized,stateClassName:p.a.stateNoActionNeeded,state:e.formatMessage({id:"InboxPage.stateExpired"})}:Object(c.E)(a)?{nameClassName:p.a.nameNotEmphasized,bookingClassName:p.a.bookingNoActionNeeded,lastTransitionedAtClassName:p.a.lastTransitionedAtNotEmphasized,stateClassName:p.a.stateNoActionNeeded,state:e.formatMessage({id:"InboxPage.stateDeclined"})}:Object(c.C)(a)?{nameClassName:p.a.nameNotEmphasized,bookingClassName:p.a.bookingNoActionNeeded,lastTransitionedAtClassName:p.a.lastTransitionedAtNotEmphasized,stateClassName:p.a.stateSucces,state:e.formatMessage({id:"InboxPage.stateAccepted"})}:Object(c.D)(a)?{nameClassName:p.a.nameNotEmphasized,bookingClassName:p.a.bookingNoActionNeeded,lastTransitionedAtClassName:p.a.lastTransitionedAtNotEmphasized,stateClassName:p.a.stateNoActionNeeded,state:e.formatMessage({id:"InboxPage.stateCanceled"})}:Object(c.B)(a)?{nameClassName:p.a.nameNotEmphasized,bookingClassName:p.a.bookingNoActionNeeded,lastTransitionedAtClassName:p.a.lastTransitionedAtNotEmphasized,stateClassName:p.a.stateNoActionNeeded,state:e.formatMessage({id:"InboxPage.stateDelivered"})}:(console.warn("This transition is unknown:",a.attributes.lastTransition),null)},h=function(e){var a=e.bookingClassName,t=e.isOrder,s=e.intl,n=e.tx,i=e.unitType;return Object(c.G)(n)?null:Object(I.jsx)("div",{className:l()(p.a.bookingInfoWrapper,a),children:Object(I.jsx)(x.i,{bookingClassName:a,isOrder:t,intl:s,tx:n,unitType:i,dateType:b.a})})},O=function(e){var a=e.unitType,t=e.type,s=e.tx,i=e.intl,o=e.stateData,r=s.customer,d=s.provider,b="order"===t,m=b?d:r,N=Object(I.jsx)(x.zc,{user:m,intl:i}),g=m.attributes.banned,_=!b&&Object(c.K)(s)?Object(I.jsx)("div",{className:p.a.notificationDot}):null,j=function(e,a){return{short:e.formatDate(a,{month:"short",day:"numeric"}),long:"".concat(e.formatDate(a)," ").concat(e.formatTime(a))}}(i,s.attributes.lastTransitionedAt),u=l()(p.a.itemLink,n()({},p.a.bannedUserLink,g));return Object(I.jsxs)("div",{className:p.a.item,children:[Object(I.jsx)("div",{className:p.a.itemAvatar,children:Object(I.jsx)(x.c,{user:m})}),Object(I.jsxs)(x.Gb,{className:u,name:b?"OrderDetailsPage":"SaleDetailsPage",params:{id:s.id.uuid},children:[Object(I.jsx)("div",{className:p.a.rowNotificationDot,children:_}),Object(I.jsxs)("div",{className:p.a.itemInfo,children:[Object(I.jsx)("div",{className:l()(p.a.itemUsername,o.nameClassName),children:N}),Object(I.jsx)(h,{bookingClassName:o.bookingClassName,intl:i,isOrder:b,tx:s,unitType:a})]}),Object(I.jsxs)("div",{className:p.a.itemState,children:[Object(I.jsx)("div",{className:l()(p.a.stateName,o.stateClassName),children:o.state}),Object(I.jsx)("div",{className:l()(p.a.lastTransitionedAt,o.lastTransitionedAtClassName),title:j.long,children:j.short})]})]})]})},f=function(e){var a=e.unitType,t=e.currentUser,s=e.fetchInProgress,n=e.fetchOrdersOrSalesError,i=e.intl,o=e.pagination,d=e.params,l=e.providerNotificationCount,c=e.scrollingDisabled,b=e.transactions,N=d.tab,g=Object(m.e)(t);if(!("orders"===N||"sales"===N))return Object(I.jsx)(_.a,{});var j,u,h="orders"===N,f=i.formatMessage({id:"InboxPage.ordersTitle"}),A=i.formatMessage({id:"InboxPage.salesTitle"}),C=h?f:A,T=n?Object(I.jsx)("p",{className:p.a.error,children:Object(I.jsx)(r.b,{id:"InboxPage.fetchFailed"})}):null,k=s||0!==b.length||n?null:Object(I.jsx)("li",{className:p.a.noResults,children:Object(I.jsx)(r.b,{id:h?"InboxPage.noOrdersFound":"InboxPage.noSalesFound"})},"noResults"),E=!s&&(j=b,u=g,h?u.id&&j&&j.length>0&&j[0].customer.id.uuid===u.id.uuid:u.id&&j&&j.length>0&&j[0].provider.id.uuid===u.id.uuid)&&o&&o.totalPages>1?Object(I.jsx)(x.Lb,{className:p.a.pagination,pageName:"InboxPage",pagePathParams:d,pagination:o}):null,v=l>0?Object(I.jsx)(x.Ib,{count:l}):null,z=[{text:Object(I.jsx)("span",{children:Object(I.jsx)(r.b,{id:"InboxPage.ordersTabTitle"})}),selected:h,linkProps:{name:"InboxPage",params:{tab:"orders"}}},{text:Object(I.jsxs)("span",{children:[Object(I.jsx)(r.b,{id:"InboxPage.salesTabTitle"}),v]}),selected:!h,linkProps:{name:"InboxPage",params:{tab:"sales"}}}],D=Object(I.jsx)(x.rc,{rootClassName:p.a.tabs,tabRootClassName:p.a.tab,tabs:z});return Object(I.jsx)(x.Kb,{title:C,scrollingDisabled:c,children:Object(I.jsxs)(x.ib,{children:[Object(I.jsx)(x.ob,{children:Object(I.jsx)(_.c,{className:p.a.topbar,mobileRootClassName:p.a.mobileTopbar,desktopClassName:p.a.desktopTopbar,currentPage:"InboxPage"})}),Object(I.jsxs)(x.nb,{className:p.a.navigation,children:[Object(I.jsx)("h1",{className:p.a.title,children:Object(I.jsx)(r.b,{id:"InboxPage.title"})}),D]}),Object(I.jsxs)(x.mb,{children:[T,Object(I.jsxs)("ul",{className:p.a.itemList,children:[s?Object(I.jsx)("li",{className:p.a.listItemsLoading,children:Object(I.jsx)(x.cb,{})}):b.map((function(e){var t=h?"order":"sale",s=P(i,e,t);return s?Object(I.jsx)("li",{className:p.a.listItem,children:Object(I.jsx)(O,{unitType:a,type:t,tx:e,intl:i,stateData:s})},e.id.uuid):null})),k]}),E]}),Object(I.jsx)(x.lb,{children:Object(I.jsx)(x.J,{})})]})})};f.defaultProps={unitType:j.a.bookingUnitType,currentUser:null,currentUserHasOrders:null,fetchOrdersOrSalesError:null,pagination:null,providerNotificationCount:0,sendVerificationEmailError:null};var A=Object(i.compose)(Object(o.connect)((function(e){var a=e.InboxPage,t=a.fetchInProgress,s=a.fetchOrdersOrSalesError,n=a.pagination,i=a.transactionRefs,o=e.user;return{currentUser:o.currentUser,fetchInProgress:t,fetchOrdersOrSalesError:s,pagination:n,providerNotificationCount:o.currentUserNotificationCount,scrollingDisabled:Object(g.b)(e),transactions:Object(N.d)(e,i)}})),r.d)(f);a.default=A},470:function(e,a,t){e.exports={topbar:"InboxPage_topbar__wEh0i",mobileTopbar:"InboxPage_mobileTopbar__26tMQ",desktopTopbar:"InboxPage_desktopTopbar__1A7zT",navigation:"InboxPage_navigation__2yOZ9",title:"InboxPage_title__3LTZk",tabs:"InboxPage_tabs__1rat0",tab:"InboxPage_tab__2FGmn",error:"InboxPage_error__1M_NF",noResults:"InboxPage_noResults__ahF7O",itemList:"InboxPage_itemList__15QgA",listItemsLoading:"InboxPage_listItemsLoading__3ILPA",loadingSpinnerFadeIn:"InboxPage_loadingSpinnerFadeIn__htIGC",listItem:"InboxPage_listItem__3PCNN",item:"InboxPage_item__2u8U_",itemLink:"InboxPage_itemLink__2TCPh",itemUsername:"InboxPage_itemUsername__2sIr2",itemAvatar:"InboxPage_itemAvatar__OPvOx",rowNotificationDot:"InboxPage_rowNotificationDot__2udfp",notificationDot:"InboxPage_notificationDot__VtWTf",itemInfo:"InboxPage_itemInfo___0uo3",bookingInfoWrapper:"InboxPage_bookingInfoWrapper__1NL_s",itemPrice:"InboxPage_itemPrice__1_jFZ",itemState:"InboxPage_itemState__3LFZn",lastTransitionedAt:"InboxPage_lastTransitionedAt__3xmi1",pagination:"InboxPage_pagination__2xxS4",stateName:"InboxPage_stateName__1OQxd",stateActionNeeded:"InboxPage_stateActionNeeded__2nHkj",stateNoActionNeeded:"InboxPage_stateNoActionNeeded__3xfhv",stateSucces:"InboxPage_stateSucces__1VoMu",nameEmphasized:"InboxPage_nameEmphasized__2PSha",nameNotEmphasized:"InboxPage_nameNotEmphasized__2X8LP",bookingActionNeeded:"InboxPage_bookingActionNeeded__39H33",bookingNoActionNeeded:"InboxPage_bookingNoActionNeeded__20kd3",lastTransitionedAtEmphasized:"InboxPage_lastTransitionedAtEmphasized__3FRO6",lastTransitionedAtNotEmphasized:"InboxPage_lastTransitionedAtNotEmphasized__haQS6",bannedUserLink:"InboxPage_bannedUserLink__opYxK",bookingInfo:"InboxPage_bookingInfo__J6tXh"}}};
//# sourceMappingURL=InboxPage.20e68ca8.chunk.js.map