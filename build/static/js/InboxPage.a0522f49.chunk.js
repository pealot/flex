(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[7],{1121:function(e,a,t){e.exports={topbar:"InboxPage_topbar__wEh0i",mobileTopbar:"InboxPage_mobileTopbar__26tMQ",desktopTopbar:"InboxPage_desktopTopbar__1A7zT",navigation:"InboxPage_navigation__2yOZ9",title:"InboxPage_title__3LTZk",tabs:"InboxPage_tabs__1rat0",tab:"InboxPage_tab__2FGmn",error:"InboxPage_error__1M_NF",noResults:"InboxPage_noResults__ahF7O",itemList:"InboxPage_itemList__15QgA",listItemsLoading:"InboxPage_listItemsLoading__3ILPA",loadingSpinnerFadeIn:"InboxPage_loadingSpinnerFadeIn__htIGC",listItem:"InboxPage_listItem__3PCNN",item:"InboxPage_item__2u8U_",itemLink:"InboxPage_itemLink__2TCPh",itemUsername:"InboxPage_itemUsername__2sIr2",itemAvatar:"InboxPage_itemAvatar__OPvOx",rowNotificationDot:"InboxPage_rowNotificationDot__2udfp",notificationDot:"InboxPage_notificationDot__VtWTf",itemInfo:"InboxPage_itemInfo___0uo3",bookingInfoWrapper:"InboxPage_bookingInfoWrapper__1NL_s",itemPrice:"InboxPage_itemPrice__1_jFZ",itemState:"InboxPage_itemState__3LFZn",lastTransitionedAt:"InboxPage_lastTransitionedAt__3xmi1",pagination:"InboxPage_pagination__2xxS4",stateName:"InboxPage_stateName__1OQxd",stateActionNeeded:"InboxPage_stateActionNeeded__2nHkj",stateNoActionNeeded:"InboxPage_stateNoActionNeeded__3xfhv",stateSucces:"InboxPage_stateSucces__1VoMu",nameEmphasized:"InboxPage_nameEmphasized__2PSha",nameNotEmphasized:"InboxPage_nameNotEmphasized__2X8LP",bookingActionNeeded:"InboxPage_bookingActionNeeded__39H33",bookingNoActionNeeded:"InboxPage_bookingNoActionNeeded__20kd3",lastTransitionedAtEmphasized:"InboxPage_lastTransitionedAtEmphasized__3FRO6",lastTransitionedAtNotEmphasized:"InboxPage_lastTransitionedAtNotEmphasized__haQS6",bannedUserLink:"InboxPage_bannedUserLink__opYxK",bookingInfo:"InboxPage_bookingInfo__J6tXh"}},1151:function(e,a,t){"use strict";t.r(a),t.d(a,"txState",(function(){return I})),t.d(a,"InboxItem",(function(){return O})),t.d(a,"InboxPageComponent",(function(){return h}));var s=t(8),n=(t(3),t(24)),i=t(134),o=t(4),r=t(5),d=t.n(r),l=t(22),b=t(10),c=t(15),m=t(67),N=t(176),g=t(6),_=t(288),x=t(9),j=t(1121),u=t.n(j),p=t(0),I=function(e,a,t){var s="order"===t;return Object(l.G)(a)?{nameClassName:s?u.a.nameNotEmphasized:u.a.nameEmphasized,bookingClassName:u.a.bookingActionNeeded,lastTransitionedAtClassName:u.a.lastTransitionedAtEmphasized,stateClassName:u.a.stateActionNeeded,state:e.formatMessage({id:"InboxPage.stateEnquiry"})}:Object(l.K)(a)?s?{nameClassName:u.a.nameNotEmphasized,bookingClassName:u.a.bookingNoActionNeeded,lastTransitionedAtClassName:u.a.lastTransitionedAtEmphasized,stateClassName:u.a.stateActionNeeded,state:e.formatMessage({id:"InboxPage.stateRequested"})}:{nameClassName:u.a.nameEmphasized,bookingClassName:u.a.bookingActionNeeded,lastTransitionedAtClassName:u.a.lastTransitionedAtEmphasized,stateClassName:u.a.stateActionNeeded,state:e.formatMessage({id:"InboxPage.statePending"})}:Object(l.J)(a)?{nameClassName:s?u.a.nameNotEmphasized:u.a.nameEmphasized,bookingClassName:u.a.bookingNoActionNeeded,lastTransitionedAtClassName:u.a.lastTransitionedAtNotEmphasized,stateClassName:s?u.a.stateActionNeeded:u.a.stateNoActionNeeded,state:e.formatMessage({id:"InboxPage.statePendingPayment"})}:Object(l.I)(a)?{nameClassName:u.a.nameNotEmphasized,bookingClassName:u.a.bookingNoActionNeeded,lastTransitionedAtClassName:u.a.lastTransitionedAtNotEmphasized,stateClassName:u.a.stateNoActionNeeded,state:e.formatMessage({id:"InboxPage.stateExpired"})}:Object(l.E)(a)?{nameClassName:u.a.nameNotEmphasized,bookingClassName:u.a.bookingNoActionNeeded,lastTransitionedAtClassName:u.a.lastTransitionedAtNotEmphasized,stateClassName:u.a.stateNoActionNeeded,state:e.formatMessage({id:"InboxPage.stateDeclined"})}:Object(l.C)(a)?{nameClassName:u.a.nameNotEmphasized,bookingClassName:u.a.bookingNoActionNeeded,lastTransitionedAtClassName:u.a.lastTransitionedAtNotEmphasized,stateClassName:u.a.stateSucces,state:e.formatMessage({id:"InboxPage.stateAccepted"})}:Object(l.D)(a)?{nameClassName:u.a.nameNotEmphasized,bookingClassName:u.a.bookingNoActionNeeded,lastTransitionedAtClassName:u.a.lastTransitionedAtNotEmphasized,stateClassName:u.a.stateNoActionNeeded,state:e.formatMessage({id:"InboxPage.stateCanceled"})}:Object(l.B)(a)?{nameClassName:u.a.nameNotEmphasized,bookingClassName:u.a.bookingNoActionNeeded,lastTransitionedAtClassName:u.a.lastTransitionedAtNotEmphasized,stateClassName:u.a.stateNoActionNeeded,state:e.formatMessage({id:"InboxPage.stateDelivered"})}:(console.warn("This transition is unknown:",a.attributes.lastTransition),null)},P=function(e){var a=e.bookingClassName,t=e.isOrder,s=e.intl,n=e.tx,i=e.unitType;return Object(l.G)(n)?null:Object(p.jsx)("div",{className:d()(u.a.bookingInfoWrapper,a),children:Object(p.jsx)(g.i,{bookingClassName:a,isOrder:t,intl:s,tx:n,unitType:i,dateType:b.a})})},O=function(e){var a=e.unitType,t=e.type,n=e.tx,i=e.intl,o=e.stateData,r=n.customer,b=n.provider,c="order"===t,m=c?b:r,N=Object(p.jsx)(g.zc,{user:m,intl:i}),_=m.attributes.banned,x=!c&&Object(l.K)(n)?Object(p.jsx)("div",{className:u.a.notificationDot}):null,j=function(e,a){return{short:e.formatDate(a,{month:"short",day:"numeric"}),long:"".concat(e.formatDate(a)," ").concat(e.formatTime(a))}}(i,n.attributes.lastTransitionedAt),I=d()(u.a.itemLink,Object(s.a)({},u.a.bannedUserLink,_));return Object(p.jsxs)("div",{className:u.a.item,children:[Object(p.jsx)("div",{className:u.a.itemAvatar,children:Object(p.jsx)(g.c,{user:m})}),Object(p.jsxs)(g.Gb,{className:I,name:c?"OrderDetailsPage":"SaleDetailsPage",params:{id:n.id.uuid},children:[Object(p.jsx)("div",{className:u.a.rowNotificationDot,children:x}),Object(p.jsxs)("div",{className:u.a.itemInfo,children:[Object(p.jsx)("div",{className:d()(u.a.itemUsername,o.nameClassName),children:N}),Object(p.jsx)(P,{bookingClassName:o.bookingClassName,intl:i,isOrder:c,tx:n,unitType:a})]}),Object(p.jsxs)("div",{className:u.a.itemState,children:[Object(p.jsx)("div",{className:d()(u.a.stateName,o.stateClassName),children:o.state}),Object(p.jsx)("div",{className:d()(u.a.lastTransitionedAt,o.lastTransitionedAtClassName),title:j.long,children:j.short})]})]})]})},h=function(e){var a=e.unitType,t=e.currentUser,s=e.fetchInProgress,n=e.fetchOrdersOrSalesError,i=e.intl,r=e.pagination,d=e.params,l=e.providerNotificationCount,b=e.scrollingDisabled,m=e.transactions,N=d.tab,x=Object(c.e)(t);if(!("orders"===N||"sales"===N))return Object(p.jsx)(_.a,{});var j,P,h="orders"===N,A=i.formatMessage({id:"InboxPage.ordersTitle"}),f=i.formatMessage({id:"InboxPage.salesTitle"}),C=h?A:f,T=n?Object(p.jsx)("p",{className:u.a.error,children:Object(p.jsx)(o.b,{id:"InboxPage.fetchFailed"})}):null,k=s||0!==m.length||n?null:Object(p.jsx)("li",{className:u.a.noResults,children:Object(p.jsx)(o.b,{id:h?"InboxPage.noOrdersFound":"InboxPage.noSalesFound"})},"noResults"),E=!s&&(j=m,P=x,h?P.id&&j&&j.length>0&&j[0].customer.id.uuid===P.id.uuid:P.id&&j&&j.length>0&&j[0].provider.id.uuid===P.id.uuid)&&r&&r.totalPages>1?Object(p.jsx)(g.Lb,{className:u.a.pagination,pageName:"InboxPage",pagePathParams:d,pagination:r}):null,v=l>0?Object(p.jsx)(g.Ib,{count:l}):null,z=[{text:Object(p.jsx)("span",{children:Object(p.jsx)(o.b,{id:"InboxPage.ordersTabTitle"})}),selected:h,linkProps:{name:"InboxPage",params:{tab:"orders"}}},{text:Object(p.jsxs)("span",{children:[Object(p.jsx)(o.b,{id:"InboxPage.salesTabTitle"}),v]}),selected:!h,linkProps:{name:"InboxPage",params:{tab:"sales"}}}],D=Object(p.jsx)(g.rc,{rootClassName:u.a.tabs,tabRootClassName:u.a.tab,tabs:z});return Object(p.jsx)(g.Kb,{title:C,scrollingDisabled:b,children:Object(p.jsxs)(g.ib,{children:[Object(p.jsx)(g.ob,{children:Object(p.jsx)(_.c,{className:u.a.topbar,mobileRootClassName:u.a.mobileTopbar,desktopClassName:u.a.desktopTopbar,currentPage:"InboxPage"})}),Object(p.jsxs)(g.nb,{className:u.a.navigation,children:[Object(p.jsx)("h1",{className:u.a.title,children:Object(p.jsx)(o.b,{id:"InboxPage.title"})}),D]}),Object(p.jsxs)(g.mb,{children:[T,Object(p.jsxs)("ul",{className:u.a.itemList,children:[s?Object(p.jsx)("li",{className:u.a.listItemsLoading,children:Object(p.jsx)(g.cb,{})}):m.map((function(e){var t=h?"order":"sale",s=I(i,e,t);return s?Object(p.jsx)("li",{className:u.a.listItem,children:Object(p.jsx)(O,{unitType:a,type:t,tx:e,intl:i,stateData:s})},e.id.uuid):null})),k]}),E]}),Object(p.jsx)(g.lb,{children:Object(p.jsx)(g.J,{})})]})})};h.defaultProps={unitType:x.a.bookingUnitType,currentUser:null,currentUserHasOrders:null,fetchOrdersOrSalesError:null,pagination:null,providerNotificationCount:0,sendVerificationEmailError:null};var A=Object(n.c)(Object(i.b)((function(e){var a=e.InboxPage,t=a.fetchInProgress,s=a.fetchOrdersOrSalesError,n=a.pagination,i=a.transactionRefs,o=e.user;return{currentUser:o.currentUser,fetchInProgress:t,fetchOrdersOrSalesError:s,pagination:n,providerNotificationCount:o.currentUserNotificationCount,scrollingDisabled:Object(N.b)(e),transactions:Object(m.d)(e,i)}})),o.d)(h);a.default=A}}]);
//# sourceMappingURL=InboxPage.a0522f49.chunk.js.map