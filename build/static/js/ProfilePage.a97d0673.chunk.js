(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[16],{1130:function(e,i,s){e.exports={error:"ProfilePage_error___ksKd",aside:"ProfilePage_aside__7VNIO",asideContent:"ProfilePage_asideContent__18s1z",avatar:"ProfilePage_avatar__32u4j",mobileHeading:"ProfilePage_mobileHeading__3o6Ar",editLinkMobile:"ProfilePage_editLinkMobile__2_Q2A",editLinkDesktop:"ProfilePage_editLinkDesktop__1ChRA",desktopHeading:"ProfilePage_desktopHeading__wa1Mt",bio:"ProfilePage_bio__MWnXm",listingsContainer:"ProfilePage_listingsContainer__srr9M",listingsTitle:"ProfilePage_listingsTitle__1sgW5",withBioMissingAbove:"ProfilePage_withBioMissingAbove__21CL7",listings:"ProfilePage_listings__1kgS5",listing:"ProfilePage_listing__341hA",mobileReviewsTitle:"ProfilePage_mobileReviewsTitle__3tVY9",mobileReviews:"ProfilePage_mobileReviews__2A2FN",desktopReviews:"ProfilePage_desktopReviews__2UWts",desktopReviewsTitle:"ProfilePage_desktopReviewsTitle__M6aEc",desktopReviewsTabNav:"ProfilePage_desktopReviewsTabNav__21E6w"}},1158:function(e,i,s){"use strict";s.r(i),s.d(i,"ProfilePageComponent",(function(){return T}));var t=s(8),r=s(11),l=s(12),a=s(7),o=s(14),n=s(13),c=s(3),b=s(2),d=s.n(b),j=s(4),u=s(24),g=s(134),v=s(5),P=s.n(v),h=s(10),O=s(15),f=s(94),w=s(176),_=s(67),m=s(6),x=s(288),p=s(9),R=s(1130),k=s.n(R),N=s(0),T=function(e){Object(o.a)(s,e);var i=Object(n.a)(s);function s(e){var t;return Object(r.a)(this,s),(t=i.call(this,e)).state={showReviewsType:h.B},t.showOfProviderReviews=t.showOfProviderReviews.bind(Object(a.a)(t)),t.showOfCustomerReviews=t.showOfCustomerReviews.bind(Object(a.a)(t)),t}return Object(l.a)(s,[{key:"showOfProviderReviews",value:function(){this.setState({showReviewsType:h.B})}},{key:"showOfCustomerReviews",value:function(){this.setState({showReviewsType:h.A})}},{key:"render",value:function(){var e,i=this.props,s=i.scrollingDisabled,r=i.currentUser,l=i.user,a=i.userShowError,o=i.queryListingsError,n=i.listings,c=i.reviews,b=i.queryReviewsError,d=i.viewport,u=i.intl,g=Object(O.e)(r),v=Object(O.m)(l),f=g.id&&v.id&&g.id.uuid===v.id.uuid,w=v.attributes.profile.displayName,_=v.attributes.profile.bio,R=!!_,T=n.length>0,y=d.width<768,L=f?Object(N.jsx)(m.Gb,{className:k.a.editLinkMobile,name:"ProfileSettingsPage",children:Object(N.jsx)(j.b,{id:"ProfilePage.editProfileLinkMobile"})}):null,C=f?Object(N.jsx)(m.Gb,{className:k.a.editLinkDesktop,name:"ProfileSettingsPage",children:Object(N.jsx)(j.b,{id:"ProfilePage.editProfileLinkDesktop"})}):null,E=Object(N.jsxs)("div",{className:k.a.asideContent,children:[Object(N.jsx)(m.d,{className:k.a.avatar,user:l,disableProfileLink:!0}),Object(N.jsx)("h1",{className:k.a.mobileHeading,children:w?Object(N.jsx)(j.b,{id:"ProfilePage.mobileHeading",values:{name:w}}):null}),L,C]}),A=P()(k.a.listingsContainer,Object(t.a)({},k.a.withBioMissingAbove,!R)),D=Object(N.jsx)("p",{className:k.a.error,children:Object(N.jsx)(j.b,{id:"ProfilePage.loadingReviewsFailed"})}),M=c.filter((function(e){return e.attributes.type===h.B})),S=c.filter((function(e){return e.attributes.type===h.A})),B=Object(N.jsxs)("div",{className:k.a.mobileReviews,children:[Object(N.jsx)("h2",{className:k.a.mobileReviewsTitle,children:Object(N.jsx)(j.b,{id:"ProfilePage.reviewsOfProviderTitle",values:{count:M.length}})}),b?D:null,Object(N.jsx)(m.Wb,{reviews:M}),Object(N.jsx)("h2",{className:k.a.mobileReviewsTitle,children:Object(N.jsx)(j.b,{id:"ProfilePage.reviewsOfCustomerTitle",values:{count:S.length}})}),b?D:null,Object(N.jsx)(m.Wb,{reviews:S})]}),H=[{text:Object(N.jsx)("h3",{className:k.a.desktopReviewsTitle,children:Object(N.jsx)(j.b,{id:"ProfilePage.reviewsOfProviderTitle",values:{count:M.length}})}),selected:this.state.showReviewsType===h.B,onClick:this.showOfProviderReviews},{text:Object(N.jsx)("h3",{className:k.a.desktopReviewsTitle,children:Object(N.jsx)(j.b,{id:"ProfilePage.reviewsOfCustomerTitle",values:{count:S.length}})}),selected:this.state.showReviewsType===h.A,onClick:this.showOfCustomerReviews}],q=Object(N.jsxs)("div",{className:k.a.desktopReviews,children:[Object(N.jsx)(m.k,{className:k.a.desktopReviewsTabNav,tabs:H}),b?D:null,this.state.showReviewsType===h.B?Object(N.jsx)(m.Wb,{reviews:M}):Object(N.jsx)(m.Wb,{reviews:S})]}),U=Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{className:k.a.desktopHeading,children:Object(N.jsx)(j.b,{id:"ProfilePage.desktopHeading",values:{name:w}})}),R?Object(N.jsx)("p",{className:k.a.bio,children:_}):null,T?Object(N.jsxs)("div",{className:A,children:[Object(N.jsx)("h2",{className:k.a.listingsTitle,children:Object(N.jsx)(j.b,{id:"ProfilePage.listingsTitle",values:{count:n.length}})}),Object(N.jsx)("ul",{className:k.a.listings,children:n.map((function(e){return Object(N.jsx)("li",{className:k.a.listing,children:Object(N.jsx)(m.rb,{listing:e})},e.id.uuid)}))})]}):null,y?B:q]});if(a&&404===a.status)return Object(N.jsx)(x.a,{});e=a||o?Object(N.jsx)("p",{className:k.a.error,children:Object(N.jsx)(j.b,{id:"ProfilePage.loadingDataFailed"})}):U;var W=u.formatMessage({id:"ProfilePage.schemaTitle"},{name:w,siteTitle:p.a.siteTitle});return Object(N.jsx)(m.Kb,{scrollingDisabled:s,title:W,schema:{"@context":"http://schema.org","@type":"ProfilePage",name:W},children:Object(N.jsxs)(m.ib,{children:[Object(N.jsx)(m.ob,{children:Object(N.jsx)(x.c,{currentPage:"ProfilePage"})}),Object(N.jsx)(m.nb,{className:k.a.aside,children:E}),Object(N.jsx)(m.mb,{children:e}),Object(N.jsx)(m.lb,{children:Object(N.jsx)(m.J,{})})]})})}}]),s}(c.Component);T.defaultProps={currentUser:null,user:null,userShowError:null,queryListingsError:null,reviews:[],queryReviewsError:null};d.a.bool,d.a.arrayOf,d.a.number,d.a.shape;var y=Object(u.c)(Object(g.b)((function(e){var i=e.user.currentUser,s=e.ProfilePage,t=s.userId,r=s.userShowError,l=s.queryListingsError,a=s.userListingRefs,o=s.reviews,n=s.queryReviewsError,c=Object(_.d)(e,[{type:"user",id:t}]),b=1===c.length?c[0]:null,d=Object(_.d)(e,a);return{scrollingDisabled:Object(w.b)(e),currentUser:i,user:b,userShowError:r,queryListingsError:l,listings:d,reviews:o,queryReviewsError:n}})),f.c,j.d)(T);i.default=y}}]);
//# sourceMappingURL=ProfilePage.a97d0673.chunk.js.map