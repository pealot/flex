exports.ids=[4],exports.modules={368:function(t,e,n){"use strict";n.r(e),n.d(e,"EditListingPageComponent",(function(){return j}));var r=n(1),i=n.n(r),o=(n(6),n(22)),a=n(39),c=n(3),s=n(82),u=n(23),l=n(25),g=n(10),d=n(15),p=n(49),b=n(109),m=n(73),L=n(5),f=n(165),E=n(171),A=n(468),h=n.n(A),O=n(0),P=u.c.UUID,j=function(t){var e=t.currentUser,n=t.createStripeAccountError,r=t.fetchInProgress,o=t.fetchStripeAccountError,a=t.getOwnListing,c=t.getAccountLinkError,s=t.getAccountLinkInProgress,u=t.history,p=t.intl,b=t.onFetchAvailabilityExceptions,m=t.onCreateAvailabilityException,E=t.onDeleteAvailabilityException,A=t.onFetchBookings,j=t.onCreateListingDraft,D=t.onPublishListingDraft,v=t.onUpdateListing,I=t.onImageUpload,y=t.onRemoveListingImage,S=t.onManageDisableScrolling,C=t.onPayoutDetailsFormSubmit,k=t.onPayoutDetailsFormChange,U=t.onGetStripeConnectAccountLink,x=t.onUpdateImageOrder,F=t.onChange,w=t.page,T=t.params,_=t.scrollingDisabled,R=t.stripeAccountFetched,M=t.stripeAccount,N=t.updateStripeAccountError,z=T.id,B=T.type,G=T.returnURLType,q=B===l.d,H=B===l.b,K=q||H,V=w.submittedListingId||(z?new P(z):null),W=Object(d.h)(a(V)),Y=W.attributes.state,J=Y&&Y!==g.w,Q=K&&V&&J,X=(!G||!(!e||!e.id))&&(q||W.id);if(Q){var Z=W&&Y===g.x,$=W?Object(l.f)(W.attributes.title):null,tt=Z?{name:"ListingPageVariant",params:{id:V.uuid,slug:$,variant:l.e}}:{name:"ListingPage",params:{id:V.uuid,slug:$}};return Object(O.jsx)(L.Hb,i()({},tt))}if(X){var et=w.createListingDraftError,nt=void 0===et?null:et,rt=w.publishListingError,it=void 0===rt?null:rt,ot=w.updateListingError,at=void 0===ot?null:ot,ct=w.showListingsError,st=void 0===ct?null:ct,ut=w.uploadImageError,lt={createListingDraftError:nt,publishListingError:it,updateListingError:at,showListingsError:st,uploadImageError:void 0===ut?null:ut,createStripeAccountError:n},gt=H&&W&&Y!==g.w,dt=w.redirectToListing&&!st,pt=W&&W.images?W.images:[],bt=(w.imageOrder||[]).map((function(t){return w.images[t]})),mt=pt.concat(bt),Lt=w.removedImageIds||[],ft=mt.filter((function(t){return!Lt.includes(t.id)})),Et=K?p.formatMessage({id:"EditListingPage.titleCreateListing"}):p.formatMessage({id:"EditListingPage.titleEditListing"});return Object(O.jsxs)(L.Kb,{title:Et,scrollingDisabled:_,children:[Object(O.jsx)(f.c,{className:h.a.topbar,mobileRootClassName:h.a.mobileTopbar,desktopClassName:h.a.desktopTopbar,mobileClassName:h.a.mobileTopbar}),Object(O.jsx)(L.u,{id:"EditListingWizard",className:h.a.wizard,params:T,disabled:dt,errors:lt,fetchInProgress:r,newListingPublished:gt,history:u,images:ft,listing:W,availability:{calendar:w.availabilityCalendar,onFetchAvailabilityExceptions:b,onCreateAvailabilityException:m,onDeleteAvailabilityException:E,onFetchBookings:A},onUpdateListing:v,onCreateListingDraft:j,onPublishListingDraft:D,onPayoutDetailsFormChange:k,onPayoutDetailsSubmit:C,onGetStripeConnectAccountLink:U,getAccountLinkInProgress:s,onImageUpload:I,onUpdateImageOrder:x,onRemoveImage:y,onChange:F,currentUser:e,onManageDisableScrolling:S,stripeOnboardingReturnURL:T.returnURLType,updatedTab:w.updatedTab,updateInProgress:w.updateInProgress||w.createListingDraftInProgress,payoutDetailsSaveInProgress:w.payoutDetailsSaveInProgress,payoutDetailsSaved:w.payoutDetailsSaved,stripeAccountFetched:R,stripeAccount:M,stripeAccountError:n||N||o,stripeAccountLinkError:c})]})}return Object(O.jsx)(L.Kb,{title:p.formatMessage({id:"EditListingPage.loadingListingData"}),scrollingDisabled:_})};j.defaultProps={createStripeAccountError:null,fetchStripeAccountError:null,getAccountLinkError:null,getAccountLinkInProgress:null,stripeAccountFetched:null,currentUser:null,stripeAccount:null,currentUserHasOrders:null,listing:null,listingDraft:null,notificationCount:0,sendVerificationEmailError:null};var D=Object(o.compose)(a.withRouter,Object(s.connect)((function(t){var e=t.EditListingPage,n=t.stripeConnectAccount,r=n.getAccountLinkInProgress,i=n.getAccountLinkError,o=n.createStripeAccountInProgress;return{getAccountLinkInProgress:r,getAccountLinkError:i,createStripeAccountError:n.createStripeAccountError,updateStripeAccountError:n.updateStripeAccountError,fetchStripeAccountError:n.fetchStripeAccountError,stripeAccount:n.stripeAccount,stripeAccountFetched:n.stripeAccountFetched,currentUser:t.user.currentUser,fetchInProgress:o,getOwnListing:function(e){var n=Object(p.d)(t,[{id:e,type:"ownListing"}]);return 1===n.length?n[0]:null},page:e,scrollingDisabled:Object(b.b)(t)}}),(function(t){return{onUpdateListing:function(e,n){return t(Object(E.l)(e,n))},onFetchBookings:function(e){return t(Object(E.i)(e))},onFetchAvailabilityExceptions:function(e){return t(Object(E.h)(e))},onCreateAvailabilityException:function(e){return t(Object(E.e)(e))},onDeleteAvailabilityException:function(e){return t(Object(E.g)(e))},onCreateListingDraft:function(e){return t(Object(E.f)(e))},onPublishListingDraft:function(e){return t(Object(E.k)(e))},onImageUpload:function(e){return t(Object(E.j)(e))},onManageDisableScrolling:function(e,n){return t(Object(b.c)(e,n))},onPayoutDetailsFormChange:function(){return t(Object(m.e)())},onPayoutDetailsSubmit:function(e){return t(Object(m.a)(e))},onPayoutDetailsFormSubmit:function(e,n){return t(Object(E.m)(e,n))},onGetStripeConnectAccountLink:function(e){return t(Object(m.d)(e))},onUpdateImageOrder:function(e){return t(Object(E.n)(e))},onRemoveListingImage:function(e){return t(Object(E.d)(e))},onChange:function(){return t(Object(E.a)())}}})))(Object(c.d)(j));e.default=D},468:function(t,e,n){t.exports={topbar:"EditListingPage_topbar__17q1k",mobileTopbar:"EditListingPage_mobileTopbar__1wjD7",desktopTopbar:"EditListingPage_desktopTopbar__4WuxY",wizard:"EditListingPage_wizard__RpO1q"}}};
//# sourceMappingURL=EditListingPage.da748b40.chunk.js.map