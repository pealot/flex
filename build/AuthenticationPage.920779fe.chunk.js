exports.ids=[1],exports.modules={387:function(e,t,a){"use strict";a.r(t),a.d(t,"AuthenticationPageComponent",(function(){return w}));var i=a(8),n=a.n(i),s=a(1),o=a.n(s),r=a(16),c=a.n(r),l=a(11),u=a.n(l),m=a(12),d=a.n(m),b=a(13),j=a.n(b),g=a(14),h=a.n(g),p=a(6),f=a(2),O=a.n(f),x=a(22),_=a(82),P=a(39),A=a(456),N=a.n(A),E=a(4),T=a.n(E),v=a(457),I=(a(31),a(33),a(74),a(3)),S=a(9),W=(a(10),a(15)),M=a(17),k=a(5),y=a(35),F=a(165),H=a(72),L=a(109),C=a(34),V=a(465),D=a.n(V),U=a(0),B=["fname","lname"],R=["email","firstName","lastName"],w=function(e){j()(a,e);var t=h()(a);function a(e){var i;return u()(this,a),(i=t.call(this,e)).state={tosModalOpen:!1,authError:N.a.get("st-autherror")?JSON.parse(N.a.get("st-autherror").replace("j:","")):null,authInfo:N.a.get("st-authinfo")?JSON.parse(N.a.get("st-authinfo").replace("j:","")):null},i}return d()(a,[{key:"componentDidMount",value:function(){N.a.remove("st-autherror")}},{key:"render",value:function(){var e=this,t=this.props,a=t.authInProgress,i=t.currentUser,s=t.intl,r=t.isAuthenticated,l=t.location,u=t.loginError,m=t.scrollingDisabled,d=t.signupError,b=t.submitLogin,j=t.submitSignup,g=t.confirmError,h=t.submitSingupWithIdp,p=t.tab,f=t.sendVerificationEmailInProgress,O=t.sendVerificationEmailError,x=t.onResendVerificationEmail,_=t.onManageDisableScrolling,A="confirm"===p,N="login"===p,E=l.state&&l.state.from?l.state.from:null,H=this.state.authInfo&&this.state.authInfo.from?this.state.authInfo.from:null,L=E||(H||null),C=Object(W.e)(i),V=!!C.id,w=!N&&V&&!C.attributes.emailVerified;if(r&&L)return Object(U.jsx)(P.Redirect,{to:L});if(r&&V&&!w)return Object(U.jsx)(k.Hb,{name:"LandingPage"});var q=Object(U.jsx)("div",{className:D.a.error,children:Object(U.jsx)(I.b,{id:"AuthenticationPage.loginFailed"})}),J=Object(U.jsx)("div",{className:D.a.error,children:Object(M.e)(d)?Object(U.jsx)(I.b,{id:"AuthenticationPage.signupFailedEmailAlreadyTaken"}):Object(U.jsx)(I.b,{id:"AuthenticationPage.signupFailed"})}),G=g?Object(U.jsx)("div",{className:D.a.error,children:Object(M.e)(g)?Object(U.jsx)(I.b,{id:"AuthenticationPage.signupFailedEmailAlreadyTaken"}):Object(U.jsx)(I.b,{id:"AuthenticationPage.signupFailed"})}):null,Q=function(e,t){return e?t:null},K=N?Q(u,q):Q(d,J),Z={state:L?{from:L}:null},z=[{text:Object(U.jsx)("h1",{className:D.a.tab,children:Object(U.jsx)(I.b,{id:"AuthenticationPage.signupLinkText"})}),selected:!N,linkProps:{name:"SignupPage",to:Z}},{text:Object(U.jsx)("h1",{className:D.a.tab,children:Object(U.jsx)(I.b,{id:"AuthenticationPage.loginLinkText"})}),selected:N,linkProps:{name:"LoginPage",to:Z}}],Y=this.state.authInfo?this.state.authInfo.idpId.replace(/^./,(function(e){return e.toUpperCase()})):null,X=Object(U.jsxs)("div",{className:D.a.content,children:[Object(U.jsx)("h1",{className:D.a.signupWithIdpTitle,children:Object(U.jsx)(I.b,{id:"AuthenticationPage.confirmSignupWithIdpTitle",values:{idp:Y}})}),Object(U.jsx)("p",{className:D.a.confirmInfoText,children:Object(U.jsx)(I.b,{id:"AuthenticationPage.confirmSignupInfoText"})}),G,Object(U.jsx)(y.b,{className:D.a.form,onSubmit:function(t){var a=e.state.authInfo,i=a.idpToken,n=a.email,s=a.firstName,r=a.lastName,l=a.idpId,u=t.email,m=t.firstName,d=t.lastName,b=c()(t,R),j=o()(o()(o()({},u!==n&&{email:u}),m!==s&&{firstName:m}),d!==r&&{lastName:d}),g=Object(v.isEmpty)(b)?null:o()({},b);h(o()(o()({idpToken:i,idpId:l},j),!!g&&{protectedData:g}))},inProgress:a,onOpenTermsOfService:function(){return e.setState({tosModalOpen:!0})},authInfo:this.state.authInfo,idp:Y})]}),$=(N?I.b:I.b,N?I.b:I.b,Object(U.jsxs)("div",{className:D.a.content,children:[Object(U.jsx)(k.qb,{className:D.a.tabs,tabs:z}),K,N?Object(U.jsx)(y.o,{className:D.a.loginForm,onSubmit:b,inProgress:a}):Object(U.jsx)(y.x,{className:D.a.signupForm,onSubmit:function(e){var t=e.fname,a=e.lname,i=c()(e,B),n=o()({firstName:t.trim(),lastName:a.trim()},i);j(n)},inProgress:a,onOpenTermsOfService:function(){return e.setState({tosModalOpen:!0})}}),null]})),ee=A?X:$,te=C.attributes.profile.firstName,ae=Object(U.jsx)("span",{className:D.a.email,children:C.attributes.email}),ie=Object(U.jsx)(k.gb,{rootClassName:D.a.modalHelperLink,onClick:x,children:Object(U.jsx)(I.b,{id:"AuthenticationPage.resendEmailLinkText"})}),ne=Object(U.jsx)(k.Gb,{className:D.a.modalHelperLink,name:"ContactDetailsPage",children:Object(U.jsx)(I.b,{id:"AuthenticationPage.fixEmailLinkText"})}),se=Object(M.g)(O)?"AuthenticationPage.resendFailedTooManyRequests":"AuthenticationPage.resendFailed",oe=O?Object(U.jsx)("p",{className:D.a.error,children:Object(U.jsx)(I.b,{id:se})}):null,re=Object(U.jsxs)("div",{className:D.a.content,children:[Object(U.jsxs)(k.Gb,{className:D.a.verifyClose,name:"ProfileSettingsPage",children:[Object(U.jsx)("span",{className:D.a.closeText,children:Object(U.jsx)(I.b,{id:"AuthenticationPage.verifyEmailClose"})}),Object(U.jsx)(k.P,{rootClassName:D.a.closeIcon})]}),Object(U.jsx)(k.S,{className:D.a.modalIcon}),Object(U.jsx)("h1",{className:D.a.modalTitle,children:Object(U.jsx)(I.b,{id:"AuthenticationPage.verifyEmailTitle",values:{name:te}})}),Object(U.jsx)("p",{className:D.a.modalMessage,children:Object(U.jsx)(I.b,{id:"AuthenticationPage.verifyEmailText",values:{email:ae}})}),oe,Object(U.jsxs)("div",{className:D.a.bottomWrapper,children:[Object(U.jsx)("p",{className:D.a.modalHelperText,children:f?Object(U.jsx)(I.b,{id:"AuthenticationPage.sendingEmail"}):Object(U.jsx)(I.b,{id:"AuthenticationPage.resendEmail",values:{resendEmailLink:ie}})}),Object(U.jsx)("p",{className:D.a.modalHelperText,children:Object(U.jsx)(I.b,{id:"AuthenticationPage.fixEmail",values:{fixEmailLink:ne}})})]})]}),ce=S.a.siteTitle,le=N?s.formatMessage({id:"AuthenticationPage.schemaTitleLogin"},{siteTitle:ce}):s.formatMessage({id:"AuthenticationPage.schemaTitleSignup"},{siteTitle:ce}),ue=T()(n()({},D.a.hideOnMobile,w));return Object(U.jsx)(k.Kb,{title:le,scrollingDisabled:m,schema:{"@context":"http://schema.org","@type":"WebPage",name:le},children:Object(U.jsxs)(k.jb,{children:[Object(U.jsx)(k.ob,{children:Object(U.jsx)(F.c,{className:ue})}),Object(U.jsxs)(k.mb,{className:D.a.layoutWrapperMain,children:[Object(U.jsx)("div",{className:D.a.root,children:w?re:ee}),Object(U.jsx)(k.Db,{id:"AuthenticationPage.tos",isOpen:this.state.tosModalOpen,onClose:function(){return e.setState({tosModalOpen:!1})},usePortal:!0,onManageDisableScrolling:_,children:Object(U.jsxs)("div",{className:D.a.termsWrapper,children:[Object(U.jsx)("h2",{className:D.a.termsHeading,children:Object(U.jsx)(I.b,{id:"AuthenticationPage.termsHeading"})}),Object(U.jsx)(k.tc,{})]})})]}),Object(U.jsx)(k.lb,{children:Object(U.jsx)(k.J,{})})]})})}}]),a}(p.Component);w.defaultProps={currentUser:null,loginError:null,signupError:null,confirmError:null,tab:"signup",sendVerificationEmailError:null,showSocialLoginsForTests:!1};O.a.bool,O.a.func,O.a.object,O.a.oneOf,O.a.shape;var q=Object(x.compose)(P.withRouter,Object(_.connect)((function(e){var t=e.Auth,a=t.isAuthenticated,i=t.loginError,n=t.signupError,s=t.confirmError,o=e.user,r=o.currentUser,c=o.sendVerificationEmailInProgress,l=o.sendVerificationEmailError;return{authInProgress:Object(H.c)(e),currentUser:r,isAuthenticated:a,loginError:i,scrollingDisabled:Object(L.b)(e),signupError:n,confirmError:s,sendVerificationEmailInProgress:c,sendVerificationEmailError:l}}),(function(e){return{submitLogin:function(t){var a=t.email,i=t.password;return e(Object(H.e)(a,i))},submitSignup:function(t){return e(Object(H.g)(t))},submitSingupWithIdp:function(t){return e(Object(H.h)(t))},onResendVerificationEmail:function(){return e(Object(C.h)())},onManageDisableScrolling:function(t,a){return e(Object(L.c)(t,a))}}})),I.d)(w);t.default=q},465:function(e,t,a){e.exports={layoutWrapperMain:"AuthenticationPage_layoutWrapperMain__3gWAw",root:"AuthenticationPage_root__2RWFg",content:"AuthenticationPage_content__3nHEa",tabs:"AuthenticationPage_tabs__1ppTt",tab:"AuthenticationPage_tab__1SV2L",form:"AuthenticationPage_form__2_HuI",loginForm:"AuthenticationPage_loginForm__HEmUQ",signupForm:"AuthenticationPage_signupForm__bEfKv",bottomWrapper:"AuthenticationPage_bottomWrapper__2pvFT",termsWrapper:"AuthenticationPage_termsWrapper__uCQwW",termsHeading:"AuthenticationPage_termsHeading__OCaVq",hideOnMobile:"AuthenticationPage_hideOnMobile__1jvqT",verifyClose:"AuthenticationPage_verifyClose__3W4UD",closeText:"AuthenticationPage_closeText__1c1ZU",closeIcon:"AuthenticationPage_closeIcon__3n_Wy",modalTitle:"AuthenticationPage_modalTitle__3juH6",modalMessage:"AuthenticationPage_modalMessage__xFsFe",email:"AuthenticationPage_email__3TlJ6",modalHelperLink:"AuthenticationPage_modalHelperLink__3NCgn",modalHelperText:"AuthenticationPage_modalHelperText__-dwS_",modalIcon:"AuthenticationPage_modalIcon__1g-gP",error:"AuthenticationPage_error__1SmGR",signupWithIdpTitle:"AuthenticationPage_signupWithIdpTitle__2aezm",confirmInfoText:"AuthenticationPage_confirmInfoText__1dEBC",buttonIcon:"AuthenticationPage_buttonIcon__15Qjf",socialButtonWrapper:"AuthenticationPage_socialButtonWrapper__bNq0o",socialButtonsOr:"AuthenticationPage_socialButtonsOr__YbZ6c",socialButtonsOrText:"AuthenticationPage_socialButtonsOrText__34yuc"}}};
//# sourceMappingURL=AuthenticationPage.920779fe.chunk.js.map