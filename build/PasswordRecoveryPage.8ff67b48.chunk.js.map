{"version":3,"sources":["containers/PasswordRecoveryPage/PasswordRecoveryPage.js","containers/PasswordRecoveryPage/PasswordRecoveryPage.module.css"],"names":["PasswordRecoveryPageComponent","props","content","scrollingDisabled","initialEmail","submittedEmail","recoveryError","recoveryInProgress","passwordRequested","onChange","onSubmitEmail","onRetypeEmail","title","intl","formatMessage","id","resendEmailLink","rootClassName","css","helperLink","onClick","fixEmailLink","submitEmailContent","className","modalIcon","modalTitle","modalMessage","inProgress","onSubmit","values","email","initialValues","submittedEmailText","emailSubmittedContent","bottomWrapper","helperText","genericErrorContent","isPasswordRecoveryEmailNotFoundError","layoutWrapperMain","root","defaultProps","sendVerificationEmailError","PropTypes","bool","func","string","PasswordRecoveryPage","compose","connect","state","isScrollingDisabled","dispatch","clearPasswordRecoveryError","recoverPassword","retypePasswordRecoveryEmail","injectIntl","module","exports"],"mappings":"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","file":"PasswordRecoveryPage.8ff67b48.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { FormattedMessage, injectIntl, intlShape } from '../../util/reactIntl';\nimport { propTypes } from '../../util/types';\nimport { isPasswordRecoveryEmailNotFoundError } from '../../util/errors';\nimport { isScrollingDisabled } from '../../ducks/UI.duck';\nimport {\n  Page,\n  InlineTextButton,\n  IconKeys,\n  LayoutSingleColumn,\n  LayoutWrapperMain,\n  LayoutWrapperTopbar,\n  LayoutWrapperFooter,\n  Footer,\n} from '../../components';\nimport { PasswordRecoveryForm } from '../../forms';\nimport { TopbarContainer } from '../../containers';\n\nimport {\n  recoverPassword,\n  retypePasswordRecoveryEmail,\n  clearPasswordRecoveryError,\n} from './PasswordRecoveryPage.duck';\nimport css from './PasswordRecoveryPage.module.css';\n\nexport const PasswordRecoveryPageComponent = props => {\n  const {\n    scrollingDisabled,\n    initialEmail,\n    submittedEmail,\n    recoveryError,\n    recoveryInProgress,\n    passwordRequested,\n    onChange,\n    onSubmitEmail,\n    onRetypeEmail,\n    intl,\n  } = props;\n\n  const title = intl.formatMessage({\n    id: 'PasswordRecoveryPage.title',\n  });\n\n  const resendEmailLink = (\n    <InlineTextButton rootClassName={css.helperLink} onClick={() => onSubmitEmail(submittedEmail)}>\n      <FormattedMessage id=\"PasswordRecoveryPage.resendEmailLinkText\" />\n    </InlineTextButton>\n  );\n\n  const fixEmailLink = (\n    <InlineTextButton rootClassName={css.helperLink} onClick={onRetypeEmail}>\n      <FormattedMessage id=\"PasswordRecoveryPage.fixEmailLinkText\" />\n    </InlineTextButton>\n  );\n\n  const submitEmailContent = (\n    <div className={css.submitEmailContent}>\n      <IconKeys className={css.modalIcon} />\n      <h1 className={css.modalTitle}>\n        <FormattedMessage id=\"PasswordRecoveryPage.forgotPasswordTitle\" />\n      </h1>\n      <p className={css.modalMessage}>\n        <FormattedMessage id=\"PasswordRecoveryPage.forgotPasswordMessage\" />\n      </p>\n      <PasswordRecoveryForm\n        inProgress={recoveryInProgress}\n        onChange={onChange}\n        onSubmit={values => onSubmitEmail(values.email)}\n        initialValues={{ email: initialEmail }}\n        recoveryError={recoveryError}\n      />\n    </div>\n  );\n\n  const submittedEmailText = passwordRequested ? (\n    <span className={css.email}>{initialEmail}</span>\n  ) : (\n    <span className={css.email}>{submittedEmail}</span>\n  );\n\n  const emailSubmittedContent = (\n    <div className={css.emailSubmittedContent}>\n      <IconKeys className={css.modalIcon} />\n      <h1 className={css.modalTitle}>\n        <FormattedMessage id=\"PasswordRecoveryPage.emailSubmittedTitle\" />\n      </h1>\n      <p className={css.modalMessage}>\n        <FormattedMessage\n          id=\"PasswordRecoveryPage.emailSubmittedMessage\"\n          values={{ submittedEmailText }}\n        />\n      </p>\n      <div className={css.bottomWrapper}>\n        <p className={css.helperText}>\n          {recoveryInProgress ? (\n            <FormattedMessage id=\"PasswordRecoveryPage.resendingEmailInfo\" />\n          ) : (\n            <FormattedMessage\n              id=\"PasswordRecoveryPage.resendEmailInfo\"\n              values={{ resendEmailLink }}\n            />\n          )}\n        </p>\n        <p className={css.helperText}>\n          <FormattedMessage id=\"PasswordRecoveryPage.fixEmailInfo\" values={{ fixEmailLink }} />\n        </p>\n      </div>\n    </div>\n  );\n\n  const genericErrorContent = (\n    <div className={css.genericErrorContent}>\n      <IconKeys className={css.modalIcon} />\n      <h1 className={css.modalTitle}>\n        <FormattedMessage id=\"PasswordRecoveryPage.actionFailedTitle\" />\n      </h1>\n      <p className={css.modalMessage}>\n        <FormattedMessage id=\"PasswordRecoveryPage.actionFailedMessage\" />\n      </p>\n    </div>\n  );\n\n  let content;\n  if (isPasswordRecoveryEmailNotFoundError(recoveryError)) {\n    content = submitEmailContent;\n  } else if (recoveryError) {\n    content = genericErrorContent;\n  } else if (submittedEmail || passwordRequested) {\n    content = emailSubmittedContent;\n  } else {\n    content = submitEmailContent;\n  }\n\n  return (\n    <Page title={title} scrollingDisabled={scrollingDisabled}>\n      <LayoutSingleColumn>\n        <LayoutWrapperTopbar>\n          <TopbarContainer />\n        </LayoutWrapperTopbar>\n        <LayoutWrapperMain className={css.layoutWrapperMain}>\n          <div className={css.root}>{content}</div>\n        </LayoutWrapperMain>\n        <LayoutWrapperFooter>\n          <Footer />\n        </LayoutWrapperFooter>\n      </LayoutSingleColumn>\n    </Page>\n  );\n};\n\nPasswordRecoveryPageComponent.defaultProps = {\n  sendVerificationEmailError: null,\n  initialEmail: null,\n  submittedEmail: null,\n  recoveryError: null,\n};\n\nconst { bool, func, string } = PropTypes;\n\nPasswordRecoveryPageComponent.propTypes = {\n  scrollingDisabled: bool.isRequired,\n  initialEmail: string,\n  submittedEmail: string,\n  recoveryError: propTypes.error,\n  recoveryInProgress: bool.isRequired,\n  passwordRequested: bool.isRequired,\n  onChange: func.isRequired,\n  onSubmitEmail: func.isRequired,\n  onRetypeEmail: func.isRequired,\n\n  // from injectIntl\n  intl: intlShape.isRequired,\n};\n\nconst mapStateToProps = state => {\n  const {\n    initialEmail,\n    submittedEmail,\n    recoveryError,\n    recoveryInProgress,\n    passwordRequested,\n  } = state.PasswordRecoveryPage;\n  return {\n    scrollingDisabled: isScrollingDisabled(state),\n    initialEmail,\n    submittedEmail,\n    recoveryError,\n    recoveryInProgress,\n    passwordRequested,\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: () => dispatch(clearPasswordRecoveryError()),\n  onSubmitEmail: email => dispatch(recoverPassword(email)),\n  onRetypeEmail: () => dispatch(retypePasswordRecoveryEmail()),\n});\n\nconst PasswordRecoveryPage = compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  ),\n  injectIntl\n)(PasswordRecoveryPageComponent);\n\nexport default PasswordRecoveryPage;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PasswordRecoveryPage_root__2eb5l\",\"layoutWrapperMain\":\"PasswordRecoveryPage_layoutWrapperMain__12ZTa\",\"submitEmailContent\":\"PasswordRecoveryPage_submitEmailContent__1uRV1\",\"genericErrorContent\":\"PasswordRecoveryPage_genericErrorContent__2i9dA\",\"emailSubmittedContent\":\"PasswordRecoveryPage_emailSubmittedContent__1Fp9i\",\"emailNotVerifiedContent\":\"PasswordRecoveryPage_emailNotVerifiedContent__1rcJa\",\"bottomWrapper\":\"PasswordRecoveryPage_bottomWrapper__20fII\",\"modalIcon\":\"PasswordRecoveryPage_modalIcon__Jg_o5\",\"modalTitle\":\"PasswordRecoveryPage_modalTitle__KZ7K-\",\"modalMessage\":\"PasswordRecoveryPage_modalMessage__1TIi4\",\"email\":\"PasswordRecoveryPage_email__1Kfzk\",\"helperLink\":\"PasswordRecoveryPage_helperLink__2xoIo\",\"helperText\":\"PasswordRecoveryPage_helperText__2L8Dg\"};"],"sourceRoot":""}